Плагин API для LiveStreet CMS
=========================

Плагин предоставляет JSON интерфейс для основных функций LS.

# Описание API

API запросы: **/api/[module_name]/[method_name]/**  дополнительные параметры передаются через GET параметры.
Например, получение списка блогов: ``**/api/blog/list/?fields=blog_title,blog_avatar,blog_bla,owner[user_login,user_profile_avatar]``

Результат успешного запроса возвращается в поле ``response``. Если в конфиге задан API KEY, то необходимо передавать параметр api-key равный ключу из конфига.
Если в течение запроса возникла ошибка, то возвращает структуру:
``{‘bStateError’: true, ‘sMsg’: ‘text error’, ‘iCodeError’: ‘2’}``

*Фильтр полей:* при запросе можно установить фильтр, что бы возвращались только нужные поля, фильтр задаётся в параметре fields, например,  **fields=topic_title,topic_id,user[user_id,user_login]**

## Модуль Common
Модуль common предоставляет методы авторизации пользователя
### Метод login
Авторизация пользователя. Параметры: **login** - логин пользователя, **password** - пароль пользователя. В случае успеха возвращает ``{‘user-key’: ‘dsgasd76gasdgas76ddgad’}`` , где **user-key** - это ключ авторизации, его потом необходимо передавать параметром ``user-key`` в запросы требующие авторизации пользователя.
### Метод logout
Сброс авторизации пользователя (разлогинивание). Параметры: **user-key** - ключ авторизации.
### Метод status
Проверяет авторизован пользователь или нет. Параметры: **user-key** - ключ авторизации.

## Модуль blog
Модуль для работы с блогами.
### Метод list
Метод ``list`` возвращает список блогов. Можно передать номер страницы ``page`` и количество элементов на страницу ``per_page``
В случае успеха возвращает структуру:
``{`response`: {‘collection’: array blogs, ‘count’: 100} }``
### Метод get
Метод ``get`` возвращает данные блога по его id, который передается в параметре ``id``.

## Модуль topic
Модуль для работы с постами.
### Метод list
Метод ``list`` возвращает список топиков главной страницы. Можно передать номер страницы ``page`` и количество элементов на страницу ``per_page``
В случае успеха возвращает структуру:
``{`response`: {‘collection’: array topics, ‘count’: 100} }``
### Метод get
Метод ``get`` возвращает данные топика по его id, который передается в параметре ``id``.